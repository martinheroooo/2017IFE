<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>IFE JavaScript Task 02</title>
		<link rel="shortcut icon" href="img/liao.png"/>
		<style>
			li{
				list-style-type: none;
			}
		</style>
	</head>
	<body>

		<h3>污染城市列表</h3>
		<ul id="aqi-list">

		</ul>

		<script type="text/javascript">
			var aqiData = [
				["北京", 90],
				["上海", 50],
				["福州", 10],
				["广州", 50],
				["成都", 90],
				["西安", 100]
			];

			(function() {

				// 	遍历读取aqiData中各个城市的数据
				var num = 0,
					i = 0,
					list = [];
				for (i; i < aqiData.length; i++) {
					if (parseInt(aqiData[i][1]) > 60) {
						list[num] = aqiData[i];
						num += 1;
					}
				}

				//降序排列
				var result = list.sort(function(x, y) {
					return y[1] - x[1];
				});

				//将空气质量指数大于60的城市显示到aqi-list的列表中
				//通过文档片段来保存创建的列表项
				var fragment = document.createDocumentFragment();
				for (var j = 0; j < result.length; j++) {
					var li = document.createElement("li");
					li.innerHTML = "第" + (j + 1) + "名：" + result[j];
					fragment.appendChild(li);
				}
				document.getElementById("aqi-list").append(fragment);
			})();
		</script>
	</body>
</html>